<% if prototype.errors.any? %>
  <div id="error_explanation" style="background:#ffeaea;border:1px solid #ff6666;color:#c00;padding:12px 20px;margin-bottom:20px;border-radius:6px;">
    <h3><%= pluralize(prototype.errors.count, "件のエラー") %>が発生しました:</h3>
    <ul>
      <% prototype.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: prototype, local: true, html: { multipart: true } do |f| %>
  <div class="field">
    <%= f.label :title, 'プロトタイプの名称' %><br>
    <%= f.text_field :title %>
  </div>
  <div class="field">
    <%= f.label :catch_copy, 'キャッチコピー' %><br>
    <%= f.text_area :catch_copy %>
  </div>
  <div class="field">
    <%= f.label :concept, 'コンセプト' %><br>
    <%= f.text_area :concept %>
  </div>
  <div class="field">
    <%= f.label :image, 'プロトタイプの画像' %><br>
    <% if prototype.image.attached? %>
      <div class="current-image">
        <p>現在の画像:</p>
        <%= image_tag prototype.image, class: :current_image %>
      </div>
    <% end %>
    <%= f.file_field :image %>
  </div>
  <div class="actions">
    <%= f.submit '保存する', class: 'form__btn' %>
  </div>
<% end %> 